<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>ArcGIS API for JavaScript Hello World App</title>
	<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
	
	<style type="text/css">
html, body, #basicMap {
	width: 100%;
	height: 100%;
	margin: 0;
	padding: 0;
}
	</style>
	<link rel="stylesheet" href="https://js.arcgis.com/4.13/esri/css/main.css">
	
	<script src="https://js.arcgis.com/4.13/"></script>
	<script type="text/javascript">
	/*
		dojoConfig = {
			locale: "ru",
			parseOnLoad: true
		  };
	*/
	
		require([
		  "esri/Map",
		  "esri/views/MapView"
		], function(Map, MapView) {

		  window.map = new Map({
			//basemap: "topo-vector"
			basemap: "streets"
			//basemap: "topo"
		  });
console.log(map);

		var lat = 55.03146;
		var lng = 82.92317;

		  window.view = new MapView({
			container: "basicMap",
			map: map,
			//center: [-118.71511,34.09042],
			center: [lng, lat],
			zoom: 15
		  });
//console.log(view);
console.log(map.basemap.title);
console.log(view.center.latitude);

			view.on("click", function(event) {
console.log(event);			
/*			
			 // you must overwrite default click-for-popup
			 // behavior to display your own popup
			 view.popup.autoOpenEnabled = false;

			 // Get the coordinates of the click on the view
			 var lat = Math.round(event.mapPoint.latitude * 1000) / 1000;
			 var lon = Math.round(event.mapPoint.longitude * 1000) / 1000;

			 view.popup.open({
			   // Set the popup's title to the coordinates of the location
			   title: "Reverse geocode: [" + lon + ", " + lat + "]",
			   location: event.mapPoint // Set the location of the popup to the clicked location
			   content: "This is a point of interest"  // content displayed in the popup
			 });
*/			 
			});

view.when(function(e){
  // This function will execute once the promise is resolved
console.log(e);			
}, function(error){
  // This function will execute if the promise is rejected due to an error
});

		});
		

/*
var map;
require(["esri/map"], function(Map) {
  map = new Map("map", {
    basemap: "topo",
    center: [-122.45, 37.75],
    zoom: 13
  });
});
*/
		
	</script>
	
</head>

<!-- <body onload="init();"> -->
<body>
  
<pre>
https://developers.arcgis.com/javascript/latest/guide/quick-start/
</pre>
		<div id="basicMap"></div>
</body> 
</html>